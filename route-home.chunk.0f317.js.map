{"version":3,"sources":["webpack:///./routes/home/style.css","webpack:///./images/btn-try.jpg","webpack:///./images/btn-record.jpg","webpack:///./images/btn-try-disable.jpg","webpack:///./images/btn-try-playing.jpg","webpack:///./libs/recorder-compact.js","webpack:///./libs/recorder.js","webpack:///./libs/shortTimeEnergy.js","webpack:///./routes/home/index.js","webpack:///../../../src/internal/util/subscribeTo.ts","webpack:///../../../src/internal/util/subscribeToObservable.ts","webpack:///../../../src/internal/util/subscribeToPromise.ts","webpack:///../../../src/internal/util/subscribeToIterable.ts","webpack:///../../../src/internal/util/isArray.ts","webpack:///../../../src/internal/util/isObject.ts","webpack:///../../src/internal/Subscriber.ts","webpack:///./routes/home/btn-icon-label/index.js","webpack:///../../../src/internal/util/ObjectUnsubscribedError.ts","webpack:///../../src/internal/SubjectSubscription.ts","webpack:///../../src/internal/Subject.ts","webpack:///./components/pcm-wave/index.js","webpack:///../../src/internal/Subscription.ts","webpack:///../../../src/internal/util/UnsubscriptionError.ts","webpack:///./utils/dom.js","webpack:///../../../src/internal/util/hostReportError.ts","webpack:///./routes/home/touch/index.js","webpack:///../../../src/internal/symbol/rxSubscriber.ts","webpack:///../../../src/internal/scheduled/scheduled.ts","webpack:///../../../src/internal/util/isInteropObservable.ts","webpack:///../../../src/internal/scheduled/scheduleObservable.ts","webpack:///../../../src/internal/scheduled/schedulePromise.ts","webpack:///../../../src/internal/util/isIterable.ts","webpack:///../../../src/internal/scheduled/scheduleIterable.ts","webpack:///../../../src/internal/operators/switchMap.ts","webpack:///../../../src/internal/observable/from.ts","webpack:///../../src/internal/innerSubscribe.ts","webpack:///./routes/home/btn-icon-label/style.css","webpack:///../node_modules/rxjs/node_modules/tslib/tslib.es6.js","webpack:///./routes/home/touch/style.css","webpack:///../../../src/internal/observable/fromArray.ts","webpack:///../../../src/internal/util/subscribeToResult.ts","webpack:///../../../src/internal/observable/race.ts","webpack:///../../src/internal/OuterSubscriber.ts","webpack:///../../src/internal/InnerSubscriber.ts","webpack:///../../../src/internal/util/isArrayLike.ts","webpack:///../../../src/internal/util/isFunction.ts","webpack:///../src/index.js","webpack:///../../../src/internal/scheduled/scheduleArray.ts","webpack:///../../../src/internal/util/isNumeric.ts","webpack:///../../../src/internal/util/isScheduler.ts","webpack:///../../../src/internal/observable/timer.ts","webpack:///../../../src/internal/scheduler/AsyncAction.ts","webpack:///../../../src/internal/scheduler/Action.ts","webpack:///../../src/internal/Scheduler.ts","webpack:///../../../src/internal/scheduler/async.ts","webpack:///../../../src/internal/scheduler/AsyncScheduler.ts","webpack:///../../../src/internal/util/identity.ts","webpack:///../../../src/internal/util/pipe.ts","webpack:///../../src/internal/Observable.ts","webpack:///../../../src/internal/util/toSubscriber.ts","webpack:///../../../src/internal/util/canReportError.ts","webpack:///../../src/internal/Observer.ts","webpack:///../../../src/internal/operators/scan.ts","webpack:///../../src/internal/config.ts","webpack:///../../../src/internal/util/isPromise.ts","webpack:///../../../src/internal/symbol/observable.ts","webpack:///../../../src/internal/operators/map.ts","webpack:///../../../src/internal/symbol/iterator.ts","webpack:///../../../src/internal/util/subscribeToArray.ts","webpack:///./components/pcm-wave/style.css","webpack:///../../../src/internal/operators/mapTo.ts","webpack:///../../../src/internal/operators/filter.ts"],"names":["patched","Recorder","this","inited","jsNode","mediaNode","mediaStream","audioContext","audioBuffers","onAudioProcess","inputSampleRate","outputSampleRate","unloadCB","window","onbeforeunload","destory","reinit","logEnv","MediaStream","webkitMediaStream","AudioContext","webkitAudioContext","prototype","stop","getTracks","forEach","track","support","Error","navigator","mediaDevices","getUserMedia","audio","channelCount","Worker","default","workerToInt16","workerToMP3","workerToWAV","terminate","devices","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","console","log","init","recording","sampleRate","createMediaStreamSource","createScriptProcessor","createJavaScriptNode","connect","destination","onaudioprocess","_onAudioProcess","bind","disconnect","initWorkers","Promise","resolve","postMessage","type","onmessage","event","data","worker","e","push","inputBuffer","getChannelData","slice","shortTimeEnergy","audioData","sum","energy","length","i","line1Def","p","width","color","delay","line2Def","stateMap","idle","a","ws","noise","voice","Home","waveRef","useRef","audioRef","recordBtnIconRef","useState","tryPlaying","setTryPlaying","recordBlobUrl","setRecordBlobUrl","recordDisable","setRecordDisable","tryBtnDisable","onAudioEnded","onRecordTouchEnd","current","classList","remove","style","undefined","recordTimeout","clearTimeout","recordPressed","setState","instance","buffer","toWAV","blob","Blob","Uint8Array","url","URL","createObjectURL","useEffect","error","errorStr","toString","indexOf","alert","onRecordError","class","home","className","title","card","waveCan","wave","ref","bottomCan","icon","btnTryDisable","btnTryPlaying","btnTry","label","disable","onClick","$audio","src","pause","play","catch","onDisableClick","onLongPress","recorder","lastWaveState","lastWaveUpdateTime","getNow","recordStartTime","setTimeout","avg","reduce","b","nextState","Math","max","record","onTouchEnd","onTouchStart","add","btnRecord","iconRef","onPlay","onEnded","subscribeTo","result","obj","subscriber","value","err","then","iterable","iterator","item","isObject","x","Subscriber","_super","destinationOrNext","complete","_this","arguments","emptyObserver","syncErrorThrowable","tslib_1","rxSubscriberSymbol","next","isStopped","unsubscribe","_next","_error","_complete","_parentOrParents","closed","SafeSubscriber","_parentSubscriber","observerOrNext","context","isFunction","_context","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","syncErrorValue","hostReportError","wrappedComplete","call","fn","config","parent","syncErrorThrown","BtnIconLabel","Ref","can","ObjectUnsubscribedErrorImpl","message","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","lift","AnonymousSubject","operator","len","copy","hasError","thrownError","_trySubscribe","_subscribe","asObservable","Observable","observable","source","PCMWave","transitionDuration","canvasRef","toState","fromState","drawLines","t","canvas","ctx","getContext","canvasH","height","canvasW","percent","animPercent","beginPath","lineWidth","ratio","strokeStyle","sinY","line","vd","fx","sin","y","fromY","toY","moveTo","lineTo","stroke","closePath","devicePixelRatio","offsetWidth","offsetHeight","loop","destoryed","rFA","clearRect","state","to","from","lastState","anim","cancel","Date","now","animate","pcPcmWave","flattenUnsubscriptionErrors","errors","UnsubscriptionErrorImpl","name","Subscription","_subscriptions","_ctorUnsubscribe","empty","_a","_unsubscribe","index","parent_1","isArray","sub","UnsubscriptionError","teardown","subscription","subscriptions","subscriptionIndex","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","performance","timing","navigationStart","easeOutQuint","dst","duration","translate","doneCB","easeFn","startTime","destTime","status","isAnimating","animateTimer","finish","Function","cb","step","cancelAnimationFrame","easing","curr","Object","keys","acc","k","Touch","children","onTap","threshold","start$","move$","end$","pipe","mapXY","switchMap","sx","sy","race","scan","overThreshold","abs","filter","mapTo","timer","subscribe","action","touch","onTouchMove","onContextMenu","preventDefault","map","touches","clientX","clientY","Symbol","scheduled","input","scheduler","isInteropObservable","schedule","Symbol_iterator","done","project","resultSelector","SimpleInnerSubscriber","notifyError","notifyComplete","SimpleOuterSubscriber","notifyNext","SwitchMapOperator","SwitchMapSubscriber","_innerSub","innerSubscription","innerSubscriber","innerSubscribe","__extends","d","__","constructor","extendStatics","create","setPrototypeOf","__proto__","Array","hasOwnProperty","fromArray","outerIndex","_i","observables","OuterSubscriber","InnerSubscriber","outerValue","RaceOperator","RaceSubscriber","hasFirst","getHookState","options","currentComponent","currentHook","hooks","__h","initialState","reducer","hookState","currentIndex","_reducer","invokeOrReturn","nextValue","useReducer","callback","args","argsChanged","initialValue","useMemo","factory","flushAfterPaintEffects","component","afterPaintEffects","shift","invokeCleanup","invokeEffect","hook","comp","cleanup","oldArgs","newArgs","some","arg","f","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","vnode","c","raf","timeout","HAS_RAF","commitQueue","hasErrored","s","scheduleArray","isNumeric","val","isScheduler","dueTime","period","Number","periodOrScheduler","async","dispatch","AsyncAction","work","id","recycleAsyncId","requestAsyncId","setInterval","clearInterval","execute","pending","_execute","errored","errorValue","actions","Action","SchedulerAction","AsyncScheduler","Scheduler","active","identity","pipeFromArray","fns","getPromiseCtor","promiseCtor","_isScalar","sink","nextOrObserver","observer","canReportError","reject","Symbol_observable","operations","toPromise","accumulator","seed","hasSeed","ScanOperator","ScanSubscriber","_seed","set","enumerable","configurable","_enable_super_gross_mode_that_will_cause_bad_things","isPromise","thisArg","MapOperator","MapSubscriber","count","getSymbolIterator","subscribeToArray","array","MapToOperator","MapToSubscriber","predicate","FilterOperator","FilterSubscriber"],"mappings":"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","file":"route-home.chunk.0f317.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__uRcqa\",\"title\":\"title__pGzP8\",\"descTitle\":\"descTitle__wUz3I\",\"descText\":\"descText__bnZPf\",\"waveCan\":\"waveCan__JrB3X\",\"card\":\"card__2ScEW\",\"bottomCan\":\"bottomCan__utzOR\",\"btnRecord\":\"btnRecord__DRdVT\",\"recording\":\"recording__ZMpLP\"};","export default __webpack_public_path__ + \"710587f886d8511922f015970a584af0.jpg\";","export default __webpack_public_path__ + \"5fe9145dd7cab94bec76f73ccf6b083a.jpg\";","export default __webpack_public_path__ + \"6e529b7803a761fd8fdef2c9a4bb85e0.jpg\";","export default __webpack_public_path__ + \"6605ae00cb2502618f043aa87b67efe0.jpg\";","/* eslint-disable class-methods-use-this */\r\n/* eslint-disable prefer-arrow-callback */\r\nlet patched = false\r\nexport default function patch() {\r\n  if (patched) return\r\n  patched = true\r\n  if (\r\n    typeof window.MediaStream === 'undefined' &&\r\n    typeof window.webkitMediaStream !== 'undefined'\r\n  ) {\r\n    window.MediaStream = window.webkitMediaStream\r\n  }\r\n\r\n  if (\r\n    typeof window.AudioContext === 'undefined' &&\r\n    typeof window.webkitAudioContext !== 'undefined'\r\n  ) {\r\n    window.AudioContext = window.webkitAudioContext\r\n  }\r\n\r\n  if (\r\n    typeof MediaStream !== 'undefined' &&\r\n    !('stop' in MediaStream.prototype)\r\n  ) {\r\n    MediaStream.prototype.stop = function () {\r\n      this.getTracks().forEach(function (track) {\r\n        track.stop()\r\n      })\r\n    }\r\n  }\r\n}\r\n","/* eslint-disable class-methods-use-this */\r\nimport patch from './recorder-compact'\r\n\r\nclass Recorder {\r\n  constructor() {\r\n    this.inited = false\r\n    this.jsNode = null\r\n    this.mediaNode = null\r\n    this.mediaStream = null\r\n    this.audioContext = null\r\n    this.audioBuffers = null\r\n    this.onAudioProcess = null\r\n    this.inputSampleRate = null\r\n    this.outputSampleRate = null\r\n\r\n    const unloadCB = window.onbeforeunload\r\n\r\n    window.onbeforeunload = () => {\r\n      this.destory()\r\n      if (unloadCB) return unloadCB()\r\n    }\r\n  }\r\n\r\n  static instance = new Recorder()\r\n\r\n  async init(reinit) {\r\n    if (this.inited && !reinit) return\r\n    this.inited = true\r\n\r\n    this.logEnv()\r\n    patch()\r\n    if (!this.support()) throw new Error('not_support')\r\n\r\n    const mediaStream = await window.navigator.mediaDevices.getUserMedia({\r\n      audio: {\r\n        // sampleRate: 44100, // 采样率\r\n        channelCount: 1, // 声道\r\n        // echoCancellation: true,\r\n        // noiseSuppression: true,\r\n      },\r\n    })\r\n    if (!mediaStream) throw new Error('stream open fail')\r\n    this.mediaStream = mediaStream\r\n    return mediaStream\r\n  }\r\n\r\n  async initWorkers() {\r\n    const { default: Worker } = await import('./recorder.worker')\r\n\r\n    if (this.workerToInt16) return\r\n    this.workerToInt16 = new Worker()\r\n    this.workerToMP3 = new Worker()\r\n    this.workerToWAV = new Worker()\r\n    // 为了并行\r\n  }\r\n\r\n  destory() {\r\n    this.workerToInt16 && this.workerToInt16.terminate()\r\n    this.workerToMP3 && this.workerToMP3.terminate()\r\n    this.mediaStream && this.mediaStream.stop()\r\n  }\r\n\r\n  support() {\r\n    const devices = navigator.mediaDevices || {}\r\n\r\n    devices.getUserMedia =\r\n      devices.getUserMedia ||\r\n      devices.webkitGetUserMedia ||\r\n      devices.mozGetUserMedia ||\r\n      devices.msGetUserMedia\r\n\r\n    return !!devices.getUserMedia && window.Worker\r\n  }\r\n\r\n  logEnv() {\r\n    console.log(`recorder info:\r\n    AudioContext: ${!!window.AudioContext}\r\n    webkitAudioContext: ${!!window.webkitAudioContext}\r\n    mediaDevices: ${!!navigator.mediaDevices}\r\n    mediaDevices.getUserMedia: ${!!(\r\n      navigator.mediaDevices && navigator.mediaDevices.getUserMedia\r\n    )}\r\n    navigator.getUserMedia: ${!!navigator.getUserMedia}\r\n    navigator.webkitGetUserMedia: ${!!navigator.webkitGetUserMedia}`)\r\n  }\r\n\r\n  async record() {\r\n    await this.init()\r\n\r\n    if (this.recording) return\r\n    this.recording = true\r\n\r\n    // 重置存储\r\n    this.audioBuffers = []\r\n\r\n    if (!this.mediaStream) await this.init(true)\r\n\r\n    // 打开stream\r\n    this.audioContext = new window.AudioContext()\r\n    this.inputSampleRate = this.audioContext.sampleRate\r\n    this.mediaNode = this.audioContext.createMediaStreamSource(this.mediaStream)\r\n\r\n    if (!this.audioContext.createScriptProcessor) {\r\n      this.audioContext.createScriptProcessor = this.audioContext.createJavaScriptNode\r\n    }\r\n    // 创建一个jsNode\r\n    this.jsNode = this.audioContext.createScriptProcessor(4096, 1, 1)\r\n    this.jsNode.connect(this.audioContext.destination)\r\n    this.jsNode.onaudioprocess = this._onAudioProcess.bind(this)\r\n    this.mediaNode.connect(this.jsNode)\r\n  }\r\n\r\n  stop() {\r\n    if (this.recording) {\r\n      this.jsNode.disconnect()\r\n      this.mediaNode.disconnect()\r\n      this.jsNode.onaudioprocess = null\r\n      this.jsNode = null\r\n      this.mediaNode = null\r\n      this.recording = false\r\n    }\r\n    return this.audioBuffers\r\n  }\r\n\r\n  // async toInt16(sampleRate = 16000, format = 'base64') {\r\n  //   if (!this.workerToInt16) await this.initWorkers()\r\n\r\n  //   return new Promise(resolve => {\r\n  //     this.workerToInt16.postMessage({\r\n  //       audioBuffers: this.audioBuffers,\r\n  //       inputSampleRate: this.inputSampleRate,\r\n  //       outputSampleRate: sampleRate,\r\n  //       type: 'int16',\r\n  //       format,\r\n  //     })\r\n  //     this.workerToInt16.onmessage = event => resolve(event.data)\r\n  //   })\r\n  // }\r\n\r\n  // async toMP3(sampleRate = 16000) {\r\n  //   if (!this.workerToMP3) await this.initWorkers()\r\n\r\n  //   return new Promise(resolve => {\r\n  //     this.workerToMP3.postMessage({\r\n  //       audioBuffers: this.audioBuffers,\r\n  //       inputSampleRate: this.inputSampleRate,\r\n  //       outputSampleRate: sampleRate,\r\n  //       type: 'mp3',\r\n  //     })\r\n  //     this.workerToMP3.onmessage = event => resolve(event.data)\r\n  //   })\r\n  // }\r\n\r\n  async toWAV(sampleRate = 16000) {\r\n    if (!this.workerToWAV) await this.initWorkers()\r\n\r\n    return new Promise(resolve => {\r\n      this.workerToWAV.postMessage({\r\n        audioBuffers: this.audioBuffers,\r\n        inputSampleRate: this.inputSampleRate,\r\n        outputSampleRate: sampleRate,\r\n        type: 'wav',\r\n      })\r\n      this.workerToWAV.onmessage = event => resolve(event.data)\r\n    })\r\n  }\r\n\r\n  async toShortEnergy() {\r\n    const { default: Worker } = await import('./recorder.worker')\r\n    const worker = new Worker()\r\n\r\n    return new Promise(resolve => {\r\n      worker.postMessage({\r\n        audioBuffers: this.audioBuffers,\r\n        type: 'short-energy',\r\n      })\r\n      worker.onmessage = event => resolve(event.data)\r\n    })\r\n  }\r\n\r\n  _onAudioProcess(e) {\r\n    const audioBuffer = e.inputBuffer\r\n    this.audioBuffers.push(audioBuffer.getChannelData(0).slice(0))\r\n\r\n    this.onAudioProcess && this.onAudioProcess(e)\r\n  }\r\n}\r\n\r\nexport default Recorder\r\n","function shortTimeEnergy(audioData) {\r\n  let sum = 0\r\n  const energy = []\r\n  const { length } = audioData\r\n  for (let i = 0; i < length; i++) {\r\n    sum += audioData[i] ** 2\r\n\r\n    if ((i + 1) % 256 === 0) {\r\n      energy.push(sum)\r\n      sum = 0\r\n    } else if (i === length - 1) {\r\n      energy.push(sum)\r\n    }\r\n  }\r\n  return energy\r\n}\r\n\r\nexport default shortTimeEnergy\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { h } from 'preact'\r\nimport style from './style'\r\nimport btnTry from 'img/btn-try.jpg'\r\nimport btnRecord from 'img/btn-record.jpg'\r\nimport btnTryDisable from 'img/btn-try-disable.jpg'\r\nimport btnTryPlaying from 'img/btn-try-playing.jpg'\r\n\r\nimport Touch from './touch'\r\nimport { getNow } from 'util/dom'\r\nimport PCMWave from 'com/pcm-wave'\r\nimport Recorder from 'lib/recorder'\r\nimport BtnIconLabel from './btn-icon-label'\r\nimport shortTimeEnergy from 'lib/shortTimeEnergy'\r\nimport { useRef, useState, useEffect } from 'preact/hooks'\r\n\r\n// import PCMWave from '../../../lib/pc-pcm-wave.js'\r\n// import '../../../lib/pc-pcm-wave.css'\r\n\r\nconst MaxRecordTime = 15000\r\nconst NoiseVoiceWatershedWave = 2\r\nconst StateLockTime = 300\r\n\r\nconst line1Def = {\r\n  p: 0.7,\r\n  width: 1.3,\r\n  color: 'rgba(255,255,255,1)',\r\n  delay: 0,\r\n}\r\n\r\nconst line2Def = {\r\n  p: 0.7,\r\n  width: 1,\r\n  color: 'rgba(255,255,255,0.5)',\r\n  delay: 0.45,\r\n}\r\n\r\nconst stateMap = {\r\n  idle: [\r\n    { a: 0, ws: 0, ...line1Def },\r\n    { a: 0, ws: 0, ...line2Def },\r\n  ],\r\n  noise: [\r\n    { a: 4, ws: 9, ...line1Def },\r\n    { a: 3, ws: 9, ...line2Def },\r\n  ],\r\n  voice: [\r\n    { a: 9, ws: 11, ...line1Def },\r\n    { a: 7, ws: 11, ...line2Def },\r\n  ],\r\n}\r\n\r\nfunction Home() {\r\n  const waveRef = useRef()\r\n  const audioRef = useRef()\r\n  const recordBtnIconRef = useRef()\r\n\r\n  const [tryPlaying, setTryPlaying] = useState(false)\r\n  const [recordBlobUrl, setRecordBlobUrl] = useState()\r\n  const [recordDisable, setRecordDisable] = useState(false)\r\n\r\n  // 派生\r\n  const tryBtnDisable = recordDisable || !recordBlobUrl\r\n\r\n  const onAudioPlay = () => setTryPlaying(true)\r\n  const onAudioEnded = () => setTryPlaying(false)\r\n  const onTogglePlay = () => {\r\n    if (!audioRef.current) return\r\n\r\n    const $audio = audioRef.current\r\n    $audio.src = recordBlobUrl\r\n\r\n    if (!tryPlaying) {\r\n      $audio.play().catch(e => console.log('play error', e))\r\n    } else {\r\n      $audio.pause()\r\n      onAudioEnded()\r\n    }\r\n  }\r\n  const onRecordTouchStart = () => {\r\n    if (!recordBtnIconRef.current) return\r\n\r\n    recordBtnIconRef.current.classList.add(style.recording)\r\n  }\r\n  const onRecordTouchEnd = async () => {\r\n    if (!recordBtnIconRef.current) return\r\n\r\n    recordBtnIconRef.current.classList.remove(style.recording)\r\n    this.recordTimeout !== undefined && clearTimeout(this.recordTimeout)\r\n\r\n    if (this.recordPressed) {\r\n      this.recordPressed = false\r\n      waveRef.current && waveRef.current.setState('idle')\r\n\r\n      Recorder.instance.stop()\r\n\r\n      const buffer = await Recorder.instance.toWAV()\r\n      const blob = new Blob([new Uint8Array(buffer)], { type: 'audio/wav' })\r\n      const url = URL.createObjectURL(blob)\r\n\r\n      setRecordBlobUrl(url)\r\n    }\r\n  }\r\n  const onRecordPress = () => {\r\n    this.recordPressed = true\r\n    const recorder = Recorder.instance\r\n\r\n    audioRef.current.pause()\r\n    onAudioEnded()\r\n\r\n    this.lastWaveState = 'idle'\r\n    this.lastWaveUpdateTime = getNow()\r\n    this.recordStartTime = getNow()\r\n\r\n    this.recordTimeout = setTimeout(() => onRecordTouchEnd(), MaxRecordTime)\r\n\r\n    recorder.onAudioProcess = e => {\r\n      const energy = shortTimeEnergy(e.inputBuffer.getChannelData(0).slice(0))\r\n      const avg = energy.reduce((a, b) => a + b) / energy.length\r\n\r\n      const nextState =\r\n        Math.max(...energy) / avg > NoiseVoiceWatershedWave ? 'voice' : 'noise'\r\n\r\n      if (\r\n        getNow() - this.lastWaveUpdateTime > StateLockTime &&\r\n        this.lastWaveState !== nextState\r\n      ) {\r\n        this.lastWaveState = 'idle'\r\n        this.lastWaveUpdateTime = getNow()\r\n        waveRef.current && waveRef.current.setState(nextState)\r\n      }\r\n    }\r\n    recorder.record()\r\n  }\r\n  const onRecordError = error => {\r\n    const errorStr = error.toString()\r\n    console.log('errorStr', errorStr)\r\n    if (~errorStr.indexOf('not_support')) alert('该WebView/浏览器不支持录音')\r\n    if (~errorStr.indexOf('secure origins')) alert('请切换到HTTPS的链接')\r\n    if (~errorStr.indexOf('Permission denied')) alert('获取授权失败')\r\n  }\r\n\r\n  useEffect(async () => {\r\n    try {\r\n      await Recorder.instance.init()\r\n    } catch (error) {\r\n      onRecordError(error)\r\n      setRecordDisable(true)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div class={style.home}>\r\n      <h1 className={style.title}>PC-PCM-Wave</h1>\r\n\r\n      <div className={style.card}>\r\n        <div className={style.waveCan}>\r\n          <PCMWave className={style.wave} ref={waveRef} stateMap={stateMap} />\r\n        </div>\r\n      </div>\r\n\r\n      <div className={style.bottomCan}>\r\n        <BtnIconLabel\r\n          icon={\r\n            tryBtnDisable ? btnTryDisable : tryPlaying ? btnTryPlaying : btnTry\r\n          }\r\n          label=\"试听\"\r\n          disable={tryBtnDisable}\r\n          onClick={onTogglePlay}\r\n          onDisableClick={() => alert('请先录制才能试听')}\r\n        />\r\n        <Touch\r\n          onLongPress={onRecordPress}\r\n          onTouchEnd={onRecordTouchEnd}\r\n          onTouchStart={onRecordTouchStart}\r\n        >\r\n          <BtnIconLabel\r\n            icon={btnRecord}\r\n            label=\"长按录音\"\r\n            className={style.btnRecord}\r\n            disable={recordDisable}\r\n            iconRef={recordBtnIconRef}\r\n          />\r\n        </Touch>\r\n      </div>\r\n\r\n      <audio ref={audioRef} onPlay={onAudioPlay} onEnded={onAudioEnded} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n",null,null,null,null,null,null,null,"/* eslint-disable no-confusing-arrow */\r\nimport style from './style'\r\n\r\nfunction BtnIconLabel({\r\n  icon,\r\n  label,\r\n  disable,\r\n  className,\r\n  onClick,\r\n  onDisableClick,\r\n  Ref,\r\n  iconRef,\r\n}) {\r\n  return (\r\n    <div\r\n      ref={Ref}\r\n      className={`${style.can} ${className}`}\r\n      data-disable={disable}\r\n      onClick={e =>\r\n        disable ? onDisableClick && onDisableClick(e) : onClick && onClick(e)\r\n      }\r\n    >\r\n      <img className={style.icon} src={icon} ref={iconRef} />\r\n      <div className={style.label}>{label}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BtnIconLabel\r\n",null,null,null,"import style from './style'\r\nimport { animate, rFA } from 'util/dom'\r\nimport { useRef, useEffect } from 'preact/hooks'\r\n\r\n/** 波浪参数\r\n  已知一波动方程为sin(10πt-2x)的波长，频率，波速和周期是多少？\r\n  波长 = 2 * 2π = 4π\r\n  频率 = 10π / 2π = 5\r\n  波速 = 频率 * 波长 = 20π\r\n  周期 = 1 / 频率 = 0.2\r\n */\r\n\r\nfunction PCMWave({ className, stateMap, transitionDuration = 500 }) {\r\n  const canvasRef = useRef()\r\n\r\n  this.toState = this.toState || stateMap.idle\r\n  this.fromState = this.fromState || stateMap.idle\r\n\r\n  const sin = (a, ws, p, vd, x, t) => {\r\n    const fx = 1 / p\r\n    const ft = ws / fx\r\n    return this.ratio * a * Math.sin(ft * t - (fx * x) / 0.7) + vd\r\n  }\r\n\r\n  const drawLines = t => {\r\n    if (!canvasRef.current) return\r\n    const canvas = canvasRef.current\r\n    const ctx = canvasRef.current.getContext('2d')\r\n    const { height: canvasH, width: canvasW } = canvas\r\n\r\n    const percent = this.animPercent\r\n\r\n    const { toState, fromState } = this\r\n\r\n    fromState.forEach(({ p, width, color }, i) => {\r\n      ctx.beginPath()\r\n      ctx.lineWidth = width * this.ratio\r\n      ctx.strokeStyle = color\r\n\r\n      const sinY = (line, i, x) =>\r\n        sin(\r\n          line[i].a,\r\n          line[i].ws,\r\n          p,\r\n          canvasH / 2,\r\n          x / canvasW,\r\n          t + line[i].delay,\r\n        )\r\n\r\n      for (let x = 0, y = 0; x <= canvasW; x++) {\r\n        const fromY = sinY(fromState, i, x)\r\n        const toY = sinY(toState, i, x)\r\n\r\n        y = fromY * (1 - percent) + toY * percent\r\n        x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y)\r\n      }\r\n\r\n      ctx.stroke()\r\n      ctx.closePath()\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current) return\r\n    const canvas = canvasRef.current\r\n    const ctx = canvasRef.current.getContext('2d')\r\n\r\n    this.animPercent = 1\r\n    this.ratio = window.devicePixelRatio || 2\r\n\r\n    canvas.width = canvas.offsetWidth * this.ratio\r\n    canvas.height = canvas.offsetHeight * this.ratio\r\n\r\n    this.loop = t => {\r\n      if (\r\n        !this.destoryed &&\r\n        !(this.animPercent === 1 && this.toState === stateMap.idle)\r\n      ) {\r\n        rFA(this.loop)\r\n      }\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n      drawLines(t / 1000)\r\n    }\r\n    rFA(this.loop)\r\n\r\n    return () => {\r\n      this.destoryed = true\r\n    }\r\n  }, [])\r\n\r\n  this.setState = state => {\r\n    try {\r\n      const to = state\r\n      const from = this.lastState || 'idle'\r\n      this.inited = true\r\n\r\n      if (from === to) return\r\n      this.anim && this.anim.cancel()\r\n      this.fromState = stateMap[from]\r\n      this.toState = stateMap[to]\r\n      this.animPercent = 0\r\n      this.loop(Date.now())\r\n      this.anim = animate({ p: 0 }, { p: 1 }, transitionDuration, ({ p }) => {\r\n        this.animPercent = p\r\n      })\r\n    } finally {\r\n      this.lastState = state\r\n    }\r\n  }\r\n\r\n  return (\r\n    <canvas ref={canvasRef} className={`${style.pcPcmWave} ${className}`} />\r\n  )\r\n}\r\n\r\nexport default PCMWave\r\n",null,null,"// const prefix = ['Moz', 'ms', 'webkit', 'O', 'KHTML'];\r\n// const prefix = ['Moz', 'ms', 'webkit']\r\n// const prefixAttrs = [\r\n//   'transform',\r\n//   'transition',\r\n//   'transitionDuration',\r\n//   'transformOrigin',\r\n//   'clipPath',\r\n// ]\r\n\r\nexport const rFA =\r\n  window.requestAnimationFrame ||\r\n  window.mozRequestAnimationFrame ||\r\n  window.webkitRequestAnimationFrame ||\r\n  window.msRequestAnimationFrame\r\n\r\nexport const tranX = x => `translateX(${x}px)`\r\nexport const tranY = y => `translateY(${y}px)`\r\n// export const tran = (x, y) => `translate(${x}px, ${y}px)`\r\n// export const tranX3D = x => `translateX(${x}px) translateZ(0)`\r\n// export const tranY3D = y => `translateY(${y}px) translateZ(0)`\r\n// export const tran3D = (x, y, z = 0) => `translate(${x}px, ${y}px, ${z}px)`\r\n\r\n// TODO: prefix只检测一次就可以了\r\n// export const transform = $el => {\r\n//   const { style } = $el\r\n//   return prefixAttrs.reduce((obj, k) => {\r\n//     obj[k] = val => {\r\n//       style[k] = val\r\n//       prefix.forEach(pre => {\r\n//         style[pre + k.charAt(0).toUpperCase() + k.slice(1)] = val\r\n//       })\r\n\r\n//       let thenCb\r\n//       let duringCb\r\n//       let offListener\r\n//       const chain = {\r\n//         finished: false,\r\n//         then: cb => {\r\n//           thenCb = cb\r\n//           return chain\r\n//         },\r\n//         during: cb => {\r\n//           duringCb = cb\r\n//           return chain\r\n//         },\r\n//         cancel: () => {\r\n//           chain.finished = true\r\n//           offListener()\r\n//         },\r\n//       }\r\n\r\n//       setTimeout(() => {\r\n//         if (thenCb && !duringCb) {\r\n//           offListener = once($el, 'transitionend', thenCb)\r\n//         } else if (duringCb) {\r\n//           const frame = () => {\r\n//             if (chain.finished) return\r\n//             duringCb($el)\r\n//             rFA(frame)\r\n//           }\r\n\r\n//           offListener = once($el, 'transitionend', () => {\r\n//             thenCb && thenCb()\r\n//             chain.finished = true\r\n//           })\r\n\r\n//           frame()\r\n//         }\r\n//       })\r\n//       return chain\r\n//     }\r\n//     return obj\r\n//   }, {})\r\n// }\r\n\r\n// export const once = function (el, event, fn) {\r\n//   let cancelled = false\r\n//   const canceller = function () {\r\n//     if (cancelled) return\r\n\r\n//     cancelled = true\r\n//     off(el, event, listener)\r\n//   }\r\n//   const listener = function () {\r\n//     if (fn) {\r\n//       // eslint-disable-next-line prefer-rest-params\r\n//       fn.apply(this, arguments)\r\n//     }\r\n//     canceller()\r\n//   }\r\n\r\n//   on(el, event, listener)\r\n//   return canceller\r\n// }\r\n\r\n// export const on = (() => {\r\n//   if (document.addEventListener) {\r\n//     return (element, event, handler, useCapture = false) => {\r\n//       if (element && event && handler) {\r\n//         element.addEventListener(event, handler, useCapture)\r\n//       }\r\n//     }\r\n//   } else {\r\n//     return (element, event, handler) => {\r\n//       if (element && event && handler) {\r\n//         element.attachEvent('on' + event, handler)\r\n//       }\r\n//     }\r\n//   }\r\n// })()\r\n\r\n// export const off = (() => {\r\n//   if (document.removeEventListener) {\r\n//     return (element, event, handler, useCapture = false) => {\r\n//       if (element && event) {\r\n//         element.removeEventListener(event, handler, useCapture)\r\n//       }\r\n//     }\r\n//   } else {\r\n//     return (element, event, handler) => {\r\n//       if (element && event) {\r\n//         element.detachEvent('on' + event, handler)\r\n//       }\r\n//     }\r\n//   }\r\n// })()\r\n\r\n// export const rFAWithLock = (() => {\r\n//   let _frameLock = false\r\n//   let _arg\r\n//   const wrapCB = cb => {\r\n//     return () => {\r\n//       cb(_arg)\r\n//       _frameLock = false\r\n//     }\r\n//   }\r\n\r\n//   return cb => {\r\n//     if (!_frameLock) {\r\n//       rFA(wrapCB(cb))\r\n//     }\r\n//     return arg => {\r\n//       _arg = arg\r\n//     }\r\n//   }\r\n// })()\r\n\r\nexport const getNow = () => {\r\n  return window.performance && window.performance.now\r\n    ? window.performance.now() + window.performance.timing.navigationStart\r\n    : +new Date()\r\n}\r\n\r\nconst easeOutQuint = t => 1 + --t * t * t * t * t\r\n\r\nexport const animate = (\r\n  src,\r\n  dst,\r\n  duration,\r\n  translate,\r\n  easeFn = easeOutQuint,\r\n) => {\r\n  const startTime = getNow()\r\n  const destTime = startTime + duration\r\n  let doneCB\r\n  const status = {\r\n    isAnimating: true,\r\n    animateTimer: null,\r\n    cancel: () => {\r\n      status.isAnimating = false\r\n      return status\r\n    },\r\n    finish: () => {\r\n      translate(dst)\r\n      doneCB instanceof Function && doneCB()\r\n    },\r\n    then: cb => {\r\n      doneCB = cb\r\n      return status\r\n    },\r\n  }\r\n\r\n  const step = () => {\r\n    if (!status.isAnimating) return\r\n\r\n    let now = getNow()\r\n\r\n    if (now >= destTime || !duration) {\r\n      status.isAnimating = false\r\n      cancelAnimationFrame(status.animateTimer)\r\n      translate(dst)\r\n      doneCB instanceof Function && doneCB()\r\n      return\r\n    }\r\n    now = (now - startTime) / duration\r\n    const easing = easeFn(now)\r\n    const curr = Object.keys(src).reduce((acc, k) => {\r\n      acc[k] = (dst[k] - src[k]) * easing + src[k]\r\n      return acc\r\n    }, {})\r\n    translate(curr)\r\n\r\n    if (status.isAnimating) {\r\n      status.animateTimer = rFA(step)\r\n    }\r\n  }\r\n\r\n  step()\r\n\r\n  return status\r\n}\r\n",null,"/* eslint-disable operator-linebreak */\r\nimport style from './style.css'\r\nimport { Subject, race, timer } from 'rxjs'\r\nimport { switchMap, filter, mapTo, scan, map } from 'rxjs/operators'\r\n\r\nconst mapXY = map(e => {\r\n  if (!e.touches.length) return { e }\r\n  return {\r\n    e,\r\n    x: e.touches[0].clientX,\r\n    y: e.touches[0].clientY,\r\n  }\r\n})\r\n\r\nexport default function Touch({\r\n  children,\r\n  onTap,\r\n  onLongPress,\r\n  onTouchStart,\r\n  onTouchEnd,\r\n  disable,\r\n  duration = 500,\r\n  threshold = 5,\r\n}) {\r\n  const start$ = new Subject()\r\n  const move$ = new Subject()\r\n  const end$ = new Subject()\r\n\r\n  start$\r\n    .pipe(\r\n      mapXY,\r\n      switchMap(({ x: sx, y: sy }) => {\r\n        return race(\r\n          move$.pipe(\r\n            mapXY,\r\n            scan(\r\n              (overThreshold, { x, y }) =>\r\n                overThreshold ||\r\n                Math.abs(x - sx) > threshold ||\r\n                Math.abs(y - sy) > threshold,\r\n              false,\r\n            ),\r\n            filter(i => i),\r\n            mapTo('cancel'),\r\n          ),\r\n          timer(duration).pipe(mapTo('longpress')),\r\n          end$.pipe(mapTo('press')),\r\n        )\r\n      }),\r\n    )\r\n    .subscribe(action => {\r\n      // console.log('TCL: action', action)\r\n      action === 'press' && onTap && onTap()\r\n      action === 'longpress' && onLongPress && onLongPress()\r\n    })\r\n\r\n  return (\r\n    <div\r\n      className={style.touch}\r\n      onTouchStart={e => {\r\n        if (disable) return\r\n        start$.next(e)\r\n        onTouchStart && onTouchStart(e)\r\n      }}\r\n      onTouchMove={e => {\r\n        if (disable) return\r\n        move$.next(e)\r\n      }}\r\n      onTouchEnd={e => {\r\n        if (disable) return\r\n        end$.next(e)\r\n        onTouchEnd && onTouchEnd(e)\r\n      }}\r\n      onContextMenu={e => e.preventDefault()}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,"// extracted by mini-css-extract-plugin\nexport default {\"can\":\"can__51mfX\",\"label\":\"label__OW8ZZ\",\"icon\":\"icon__B-Hnj\"};","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"touch\":\"touch__QlIPh\"};",null,null,null,null,null,null,null,"import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => ref.current = null;\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"// extracted by mini-css-extract-plugin\nexport default {\"pcPcmWave\":\"pcPcmWave__zS7Gm\"};",null,null],"sourceRoot":""}